<!--    
/* ***************************************************************
* Owner/Modify by Name : Archie Bisen
* @description: Test Class for Shiptodata class.
* @Change:  
* @last modify by:   Archie Bisen
* @last modify date:  9-Jan-2020
* *************************************************************** */
-->
<aura:component  controller="Shiptodata" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <!-- declaring the attributes -->
    <aura:attribute name = "DailyList" type ="object"/>
    <aura:attribute name = "DailyList1" type ="object"/>
     <aura:attribute name = "DailyListPre" type ="object"/>
    <aura:attribute name = "DailyList1Pre" type ="object"/>
    <aura:attribute name = "AllDailyList" type ="object"/>
    <aura:attribute name = "AllDailyListIndirect" type ="object"/>
    <aura:attribute name = "ShipList" type ="object"/>
    <aura:attribute name="Daily_Sales_Data__c" type="Daily_Sales_Data__c" default="{'sobjectType':'Daily_Sales_Data__c'}"/>
    <aura:attribute name="PageHeading" type="String" default="Sales Data Direct"/>
    <aura:attribute name="PageHeading2" type="String" default="Sales Data InDirect"/>
    <aura:attribute name="PageHeading1" type="String" default="Ship To Information"/>
    <aura:attribute name="RecordId" type="String" />
    <aura:attribute name="AccountId" type="String" />
    
    <aura:attribute name="SelectedType" type="String" default="0"/>
     <aura:attribute name="SelectedType2" type="String"/>
     <aura:attribute name="SelectedType3" type="String"/>
   
    <aura:attribute name="containIndirectType" type="boolean" default="false"/>
    <aura:attribute name="ShipToID" type="String"/>
    <aura:attribute name="DDDOutletId" type="String"/>
    <aura:attribute name="DirectShipToName" type="String"/>
    <aura:attribute name="DirectShipToAddress" type="String"/>
    <aura:attribute name="IndirectShipToName" type="String"/>
    <aura:attribute name="IndirectShipToAddress" type="String"/>
    <aura:attribute name="AccountName" type="String"/>
    
    <aura:attribute name="DirectPageValue" type="integer" default="5"/>
    <aura:attribute name="InDirectPageValue" type="integer" default="5"/>
    
    <aura:attribute name="lstDailySalesDataDirectPage" type="Daily_Sales_Data__c[]"/>
    <aura:attribute name="PageNumber" type="integer" default="1"/>
    <aura:attribute name="pageSize" type="integer" default="1"/>
    <aura:attribute name="TotalPages" type="integer" default="0"/>
    <aura:attribute name="TotalRecords" type="integer" default="0"/>
    <aura:attribute name="RecordStart" type="integer" default="0"/>
    <aura:attribute name="RecordEnd" type="integer" default="0"/>
    
    <aura:attribute name="lstDailySalesDataInDirectPage" type="Daily_Sales_Data__c[]"/>
    <aura:attribute name="PageNumber2" type="integer" default="1"/>
    <aura:attribute name="pageSize2" type="integer" default="1"/>
    <aura:attribute name="TotalPages2" type="integer" default="0"/>
    <aura:attribute name="TotalRecords2" type="integer" default="0"/>
    <aura:attribute name="RecordStart2" type="integer" default="0"/>
    <aura:attribute name="RecordEnd2" type="integer" default="0"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
     <!-- condition for displaying checking the data  in the record and display a message -->
    <aura:if isTrue="{!and(v.ShipList.lstShipToInfo!=undefined, v.ShipList.lstShipToInfo.length==0)}">
        No Data available
    </aura:if>
    <!-- condition for displaying data in the record only when the operating device is other then a phone -->
     <aura:if isTrue="{!$Browser.formFactor!='PHONE'}">
    <aura:if isTrue="{!and(v.ShipList.lstShipToInfo!=undefined, v.ShipList.lstShipToInfo.length>0)}">
        
        <!-- begginning of the component -->
        <lightning:card class="slds-brand-band slds-brand-band_large">
            <div style="overflow:hidden">
                <article class="slds-card slds-card_boundary">
                    <aura:if isTrue="{!or(empty(v.DailyList.lstDailySalesDataDirect,v.ShipList.lstDailySalesDatainDirect))}">
                        <div class="slds-card__header slds-grid" style="padding-top: 5px;padding-left: 9px;margin-bottom: 0px;border-bottom-width: 16px;padding-bottom: 5px;">
                            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                <div class="slds-media__figure">
                                    <lightning:icon iconName="standard:account" size="medium" />
                                </div>
                                <div class="slds-media__body" >
                                    <h2 class="slds-card__header-title">
                                        <!-- condition for displaying the download button in the record only when the operating device desktop -->
                                        <aura:if isTrue="{!$Browser.formFactor=='DESKTOP'}">
                                            <button class="slds-button slds-button_brand slds-float_right" style=" top: 6px;" onclick="{!c.downloadCsv}">Download Data</button>
                                        </aura:if>
                                          <p> Account</p>
                                        <span class="slds-text-heading_medium"  title="{!v.AccountName}" style="margin-top: 2px"><b><dd>{!v.AccountName}</dd></b></span>
                                       
                                    </h2>
                                </div>
                            </header>  
                        </div>
                    </aura:if>
                     <!-- condition for displaying the table only when the data is present in the record  -->
                    <aura:if isTrue="{!or(not(empty(v.DailyList.lstDailySalesDataDirect,v.ShipList.lstDailySalesDatainDirect)))}">
                        <div class="slds-card__header slds-grid" style=" padding-top: 5px;padding-left: 9px;margin-bottom: 5px;border-bottom-width: 0px;padding-bottom: 0px;">
                            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                <div class="slds-media__figure">
                                    <lightning:icon iconName="standard:account" size="medium" />
                                </div>
                                <div class="slds-media__body">
                                    
                                    <h2 class="slds-card__header-title">
                                         <!-- condition for displaying the download button in the record only when the operating device desktop -->
                                        <aura:if isTrue="{!$Browser.formFactor=='DESKTOP'}">
                                        
                                        <button class="slds-button slds-button_brand slds-float_right"  style=" top: 6px;" onclick="{!c.downloadCsv}">Download Data</button>
                                        </aura:if>
                                        
                                        <p> Account</p>
                                        <span class="slds-text-heading_medium"  title="{!v.AccountName}" style="margin-top: 2px"><b><dd>{!v.AccountName}</dd></b></span>
                                        
                                    </h2>
                                </div>
                            </header>  
                        </div>
                    </aura:if>
                </article>
                <div class="slds-box slds-theme_shade" Style="Height: auto;">
                    <div class="slds-grid slds-gutters "> 
                        <span class=" slds-col slds-size_1-of-3" title="Shipto Id"><strong>Shipto Id:</strong>&nbsp;
                            <dd class="cDailySalesShipto wrapText"> 
                                 <!-- condition for checking if the lstShipToInfo is undefined -->
                                <aura:if isTrue="{!v.ShipList.lstShipToInfo!=undefined}">
                                    <aura:iteration var ="shipTo" items ="{!v.ShipList.lstShipToInfo}" indexVar="indx">
                                        <!-- condition for checking if the ShipTo_Type__c is direct in shipt to information record -->
                                        <aura:if isTrue="{!shipTo.ShipTo_Type__c=='Direct'}">
                                            <a class="{!v.class}" href="{!'/' + shipTo.Id}">&nbsp;{!shipTo.Ship_To__c}</a>
                                            <aura:if isTrue="{! or(and(v.containIndirectType==true,indx != v.ShipList.lstShipToInfo.length-2),and(v.containIndirectType==false,indx != v.ShipList.lstShipToInfo.length-1))}">,</aura:if>
                                        </aura:if>
                                    </aura:iteration>
                                </aura:if>
                            </dd></span>
                        <!-- begining of header section displaying shipto information  -->
                        <span class=" slds-col slds-size_1-of-3" title="Shipto Name"><strong>Shipto Name:</strong>&nbsp;
                            <dd class="cDailySalesShipto wrapText">
                                {!v.DirectShipToName}
                            </dd>
                        </span>
                        <span class=" slds-col slds-size_1-of-3" title="Direct Address"><strong>Direct Address:</strong>&nbsp;
                            <dd class="cDailySalesShipto wrapText">
                                {!v.DirectShipToAddress}
                            </dd>
                        </span>
                    </div> 
                    <br></br> 
                    <div class="slds-grid slds-gutters ">     
                        <span class=" slds-col slds-size_1-of-3" title="DDD Outlet Id"><strong>DDD Outlet Id:</strong>&nbsp;<dd class="cDailySalesShipto wrapText">{!v.DDDOutletId}</dd></span>
                        
                        
                        <span class=" slds-col slds-size_1-of-3" title="Indirect Shipto Name"><strong>Indirect Shipto Name:</strong>&nbsp;
                            <dd class="cDailySalesShipto wrapText"> {!v.IndirectShipToName}</dd>
                        </span>
                        <span class=" slds-col slds-size_1-of-3" title="Indirect Address"><strong>Indirect Address:</strong>&nbsp;
                            <dd class="cDailySalesShipto wrapText">{!v.IndirectShipToAddress}</dd>
                        </span> 
                    </div>
                </div>
                
                <br></br>
                <!-- condition for displaying the direct table in desktop -->
                <aura:if isTrue="{!$Browser.formFactor=='DESKTOP'}">
                    <article class="slds-card slds-card_boundary">
                        
                        <div class="slds-card__header slds-grid slds-border_bottom" style="padding-left: 9px;padding-top: 1px;padding-bottom: 1px;margin-bottom: 0px;">
                            
                            <header class="slds-has-flexi-truncate">
                                <h2 class="slds-card__header-title">
                                    <span class="slds-text-heading_medium slds-text-align_left"><b>Details</b></span>
                                </h2>
                            </header>
                        </div>
                        
                        <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                    <span><b> Report Type:</b></span>
                                    <!-- picklist values for selecting the report type -->
                                    <lightning:select class="slds-var-p-*_xxx-small" name="Please select a type" Label="Please select a type" 
                                                      value="{!v.SelectedType}" onchange="{!c.SelectedTypeChange}">
                                        <option value="0">Please select a type</option>
                                        <option value="1">Direct</option>
                                        <option value="2">Indirect</option>
                                        <option value="3">Both</option>
                                        
                                    </lightning:select>
                                    
                                    
                                </lightning:layoutItem>
                            </div>
                           
                        </div>
                        
                        <!-- condition for selection of direct or both picklist value -->
                        <aura:if isTrue="{!(v.SelectedType=='1')||(v.SelectedType=='3')}"> 
                            <!-- begining of the table  -->
                            <article class="slds-card slds-card_boundary">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__figure">
                                            <lightning:icon iconName="custom:custom6" size="small" /> 
                                        </div>
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                <a class="slds-card__header-link slds-truncate" title="{!v.PageHeading}">
                                                    <span>{!v.PageHeading}</span> 
                                                     <aura:if isTrue="{!(v.SelectedType2=='1')}">
                                                    (<span>{!(v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage==null)?'0':v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage.length}</span>)
                                                    </aura:if>
                                                     <aura:if isTrue="{!(v.SelectedType2=='2')}">
                                                    (<span>{!(v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage==null)?'0':v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage.length}</span>)
                                                    </aura:if>
                                                    </a>
                                                
                                            </h2>
                                        </div>
                                    </header>
                                </div>
                                 <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                    <!-- picklist value for section of year -->
                                 <lightning:select class="slds-var-p-*_xxx-small" name="Please select a year" Label="Please select a year" 
                                                   value="{!v.SelectedType2}" onchange="{!c.SelectedTypeChange}" >
                                        <option value="0">Please select a year</option>
                                        <option value="1">Current Year</option>
                                        <option value="2">Previous Year</option>
                                    </lightning:select>
                                </lightning:layoutItem>
                                     </div>
                                </div>
                                <!-- condition for checking if the number of records in list is greater than 0 -->
                                <aura:if isTrue="{!and(v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage.length>0,v.SelectedType2!='0')}">
                                  
                                    <div class="slds-clearfix"></div>
                                    
                                    <div class="slds-table--header-fixed_container" style="height:200px;">
                                        <div class="slds-scrollable_y" style="height:100%;">
                                            <!-- begining of the table -->
                                            <table class="slds-table slds-table_bordered slds-table--header-fixed slds-table--striped slds-table--cell-buffer">
                                                <thead>
                                                    <tr  class="slds-text-title_caps">
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText " title="Ship To">Ship To</div></th>
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText " title="Item Category">Item Category</div></th>
                                                        <th scope="col" class="setWidth10"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText " title="Shipto Date">Shipto Date</div></th>
                                                        <th scope="col" class="setWidth20"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText " title="Reason for Transaction">Reason for Transaction</div></th>
                                                        <th scope="col" class="setWidth10"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="NDC">NDC</div></th>
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText " title="Invoice Quantity">Invoice Quantity</div></th>
                                                    </tr>
                                                </thead>
                                                
                                                <tbody>
                                                    <!-- condition for checking if current year is selected in direct data -->
                                                     <aura:if isTrue="{!(v.SelectedType2=='1')}">
                                                    <aura:iteration var ="d" items ="{!v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage}">
                                                        <tr>
                                                            <th scope="row" class="setWidth15" style="padding-left: 18px;"><div class="cDailySalesShipto wrapText"   title="{!d.ShipTo_ID__c}">
                                                                <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.ShipTo_ID__c}</a></div></th>
                                                            
                                                            <th scope="row" class="setWidth15" style="right: 9px;"><div class="cDailySalesShipto wrapText "  title="{!d.Item_Category__c }">
                                                                {!d.Item_Category__c }</div></th>
                                                            
                                                            <td class="setWidth15" style="right: 10px;" ><div>&nbsp; 
                                                                <ui:outputDate class="cDailySalesShipto wrapText" format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                                </div></td>
                                                            <td class="setWidth15" style="right: 10px;" ><div class="cDailySalesShipto wrapText " title="{!d.Reason_for_Transaction__c}">&nbsp;{!d.Reason_for_Transaction__c}</div></td>
                                                            <td class="setWidth15" style="right: 10px;" ><div class="cDailySalesShipto wrapText " title="{!d.NDC__c}">&nbsp;{!d.NDC__c}</div></td>
                                                            <td class="setWidth15" style="right: 12px;" ><div class="cDailySalesShipto wrapText " title="{!d.Invoice_Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                        </tr>
                                                    </aura:iteration>
                                                    </aura:if>
                                                    <!-- condition for checking if previous year is selected in direct data -->
                                                     <aura:if isTrue="{!(v.SelectedType2=='2')}">
                                                          <!-- iterating and fetching the data in dailylist from the apex controller  -->
                                                    <aura:iteration var ="d" items ="{!v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage}">
                                                        <tr>
                                                            <th scope="row" class="setWidth15" style="padding-left: 18px;"><div class="cDailySalesShipto wrapText"   title="{!d.ShipTo_ID__c}">
                                                                <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.ShipTo_ID__c}</a></div></th>
                                                            
                                                            <th scope="row" class="setWidth15" style="right: 9px;"><div class="cDailySalesShipto wrapText "  title="{!d.Item_Category__c }">
                                                                {!d.Item_Category__c }</div></th>
                                                            
                                                            <td class="setWidth15" style="right: 10px;" ><div>&nbsp; 
                                                                <ui:outputDate class="cDailySalesShipto wrapText" format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                                </div></td>
                                                            <td class="setWidth15" style="right: 10px;" ><div class="cDailySalesShipto wrapText " title="{!d.Reason_for_Transaction__c}">&nbsp;{!d.Reason_for_Transaction__c}</div></td>
                                                            <td class="setWidth15" style="right: 10px;" ><div class="cDailySalesShipto wrapText " title="{!d.NDC__c}">&nbsp;{!d.NDC__c}</div></td>
                                                            <td class="setWidth15" style="right: 12px;" ><div class="cDailySalesShipto wrapText " title="{!d.Invoice_Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                        </tr>
                                                    </aura:iteration>
                                                    </aura:if>
                                                    
                                                </tbody>
                                                
                                            </table>
                                        </div>
                                    </div>
                                    <div class="slds-clearfix">
                                         <!-- picklist value for selecting the number of records per page -->
                                        <div class="slds-page-header" role="banner">
                                              <div class="slds-float_right" style="padding-left: 325px;">
                                        <ui:inputSelect aura:id="pageSize" label="Display Records Per Page: " value="{!v.DirectPageValue}" change="{!c.onSelectChange}">
                                            <ui:inputSelectOption text="5" label="5" />
                                            <ui:inputSelectOption text="10" label="10"/>
                                             <!-- condition for providing the 20 records per page option only in desktop -->
                                            <aura:if isTrue="{!$Browser.formFactor=='DESKTOP'}">
                                                <ui:inputSelectOption text="20" label="20"/>
                                            </aura:if>
                                        </ui:inputSelect>
                                        <br/>
                                    </div>
                                             <!-- code for previous and next buttons -->
                                            <div class="slds-float_right">            
                                                <lightning:button disabled="{!v.PageNumber == 1}" variant="brand" aura:id="prevPage" label="Prev" onclick="{!c.handlePrev}" />            
                                                <lightning:button disabled="{!v.PageNumber == v.TotalPages}" aura:id="nextPage" variant="brand" label="Next" onclick="{!c.handleNext}"/>
                                            </div>
                                            <p class="slds-page-header__title">{!v.RecordStart}-{!v.RecordEnd} of {!v.TotalRecords} | Page {!v.PageNumber} of {!v.TotalPages}</p>
                                        </div>
                                    </div>
                                </aura:if>
                                <footer class="slds-card__footer">
                                </footer>
                            </article>
                        </aura:if>
                        
                        <!-- condition for selection of indirect or both picklist value -->
                        <aura:if isTrue="{!(v.SelectedType=='2')||(v.SelectedType=='3')}">  
                            
                            <article class="slds-card slds-card_boundary">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__figure">
                                            <lightning:icon iconName="custom:custom6" size="small" /> 
                                        </div>
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                <a class="slds-card__header-link slds-truncate" title="{!v.PageHeading2}">
                                                    <span>{!v.PageHeading2}</span> 
                                                    <aura:if isTrue="{!(v.SelectedType3=='1')}">
                                                    (<span>{!(v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage==null)?'0':v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage.length}</span>)
                                                    </aura:if>
                                                    <aura:if isTrue="{!(v.SelectedType3=='2')}">
                                                    (<span>{!(v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage==null)?'0':v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage.length}</span>)
                                                    </aura:if>
                                                    </a>
                                                
                                            </h2>
                                        </div>
                                        
                                    </header>
                                </div>
                                <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                  <!-- picklist value for section of year -->
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                 <lightning:select class="slds-var-p-*_xxx-small" name="Please select a year" Label="Please select a year" 
                                                    value="{!v.SelectedType3}" onchange="{!c.SelectedTypeChange}">
                                        <option value="0">Please select a year</option>
                                        <option value="1">Current Year</option>
                                        <option value="2">Previous Year</option>
                                    </lightning:select>
                                </lightning:layoutItem>
                                     </div>
                                </div>
                                 <!-- condition for checking if the number of records in list is greater than 0 -->
                                <aura:if isTrue="{!and(v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage.length>0,v.SelectedType3!='0')}">
                                   
                                    <div class="slds-clearfix"></div>
                                    <div class="slds-table--header-fixed_container" style="height:200px;">
                                        <div class="slds-scrollable_y" style="height:100%;">
                                            <!-- beginning of the table -->
                                            <table class="slds-table slds-table_bordered slds-table--header-fixed slds-table--striped slds-table--cell-buffer">
                                                
                                                <thead>
                                                    <tr class="slds-text-title_caps">
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="DDD ID">DDD ID</div></th>
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="Invoice">Invoice</div></th>
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="Shipto Date">Shipto Date</div></th>
                                                        <th scope="col" class="setWidth20"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="Description">Description</div></th>
                                                        <th scope="col" class="setWidth15"><div class="slds-truncate slds-cell-fixed cDailySalesShipto wrapText" title="Quantity">Quantity</div></th>
                                                        
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <!-- condition for checking if current year is selected in indirect data -->
                                                     <aura:if isTrue="{!(v.SelectedType3=='1')}">
                                                    <aura:iteration var ="d" items ="{!v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage}">
                                                        <tr>
                                                            <td style="padding-left: 18px;"><div class="cDailySalesShipto wrapText "  title="{!d.DDD_Outlet_ID__c}">
                                                                <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.DDD_Outlet_ID__c}</a></div></td>
                                                            <td style="right: 10px;">{!d.Invoice__c}</td>
                                                            <td style="right: 11px;"><div>&nbsp;
                                                                <ui:outputDate class="cDailySalesShipto wrapText " format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                                </div></td>
                                                            <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Material_Description__c}">&nbsp;{!d.Material_Description__c}</div></td>
                                                            <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                            
                                                        </tr>
                                                    </aura:iteration>
                                                    </aura:if>
                                                    <!-- condition for checking if previous year is selected in indirect data -->
                                                    
                                                    <aura:if isTrue="{!(v.SelectedType3=='2')}">
                                                    <aura:iteration var ="d" items ="{!v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage}">
                                                        <tr>
                                                            <td style="padding-left: 18px;"><div class="cDailySalesShipto wrapText "  title="{!d.DDD_Outlet_ID__c}">
                                                                <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.DDD_Outlet_ID__c}</a></div></td>
                                                            <td style="right: 10px;">{!d.Invoice__c}</td>
                                                            <td style="right: 11px;"><div>&nbsp;
                                                                <ui:outputDate class="cDailySalesShipto wrapText " format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                                </div></td>
                                                            <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Material_Description__c}">&nbsp;{!d.Material_Description__c}</div></td>
                                                            <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                            
                                                        </tr>
                                                    </aura:iteration>
                                                    </aura:if>
                                           
                                                    
                                                </tbody>
                                                
                                            </table>
                                        </div></div>
                                    
                                    <div class="slds-clearfix">
                                         <!-- picklist values for selecting number of records per page -->
                                        <div class="slds-page-header" role="banner">
                                              <div class="slds-float_right" style="padding-left: 325px;">
                                        <ui:inputSelect aura:id="pageSize2" label="Display Records Per Page: " value="{!v.InDirectPageValue}" change="{!c.onSelectChange1}">
                                            <ui:inputSelectOption text="5" label="5" />
                                            <ui:inputSelectOption text="10" label="10"/>
                                             <!-- condition for providing the 20 records per page option only in desktop -->
                                            <aura:if isTrue="{!$Browser.formFactor=='DESKTOP'}">
                                                <ui:inputSelectOption text="20" label="20"/>
                                            </aura:if>
                                        </ui:inputSelect>
                                        <br/>
                                    </div>
                                            <!-- code for previous and next buttons -->
                                            <div class="slds-float_right">            
                                                <lightning:button disabled="{!v.PageNumber2 == 1}" variant="brand" aura:id="prevPage2" label="Prev" onclick="{!c.handlePrev2}" />            
                                                <lightning:button disabled="{!v.PageNumber2 == v.TotalPages2}" aura:id="nextPage2" variant="brand" label="Next" onclick="{!c.handleNext2}"/>
                                            </div>
                                            <p class="slds-page-header__title">{!v.RecordStart2}-{!v.RecordEnd2} of {!v.TotalRecords2} | Page {!v.PageNumber2} of {!v.TotalPages2}</p>
                                        
                                        </div>
                                         
                                    </div>
                                  
                                            
                                </aura:if>
                                <footer class="slds-card__footer">
                                </footer>
                            </article>
                        </aura:if>
                        
                    </article>
                </aura:if>
                
                
                
                <!-- condition for displaying the component in devices like tablet and IPad -->
                <aura:if isTrue="{!$Browser.formFactor!='DESKTOP'}">
                    
                    <article class="slds-card slds-card_boundary">
                        
                        <div class="slds-card__header slds-grid slds-border_bottom" style="padding-left: 9px;padding-top: 1px;padding-bottom: 1px;margin-bottom: 0px;">
                            
                            <header class="slds-has-flexi-truncate">
                                <h2 class="slds-card__header-title">
                                    <span class="slds-text-heading_medium slds-text-align_left"><b>Details</b></span>
                                </h2>
                            </header>
                        </div>
                        <!-- selection of picklist for the report type -->
                        <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                    <span><b> Report Type:</b></span>
                                    
                                    <lightning:select class="slds-var-p-*_xxx-small" name="Please select a type" Label="Please select a type" value="{!v.SelectedType}">
                                        <option value="0">Please select a type</option>
                                        <option value="1">Direct</option>
                                        <option value="2">Indirect</option>
                                        <option value="3">Both</option>
                                        
                                    </lightning:select>
                                    
                                    
                                </lightning:layoutItem>
                            </div>
                            <!--<div class="slds-col" style="margin-top: 18px; padding-right: 200px;">
     <button class="slds-button slds-button_brand slds-float_right" onclick="{!c.downloadCsv}">Download Data</button> <br/><br/>
        </div>-->
                        </div>
                        
                        <!-- condition for selecting the direct picklist value or both picklist values  -->
                        <aura:if isTrue="{!(v.SelectedType=='1')||(v.SelectedType=='3')}">     
                            <article class="slds-card slds-card_boundary">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__figure">
                                            <lightning:icon iconName="custom:custom6" size="small" /> 
                                        </div>
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                <a class="slds-card__header-link slds-truncate" title="{!v.PageHeading}">
                                                    <span>{!v.PageHeading}</span> (<span>{!(v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage==null)?'0':v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage.length}</span>)
                                                </a>
                                                
                                            </h2>
                                        </div>
                                    </header>
                                </div>
                                <!-- selection of picklist for selecting currect year and previous year for direct or indirect data -->
                                 <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                 <lightning:select class="slds-var-p-*_xxx-small" name="Please select a year" Label="Please select a year" 
                                                    value="{!v.SelectedType2}" onchange="{!c.SelectedTypeChange}">
                                        <option value="0">Please select a year</option>
                                        <option value="1">Current Year</option>
                                        <option value="2">Previous Year</option>
                                    </lightning:select>
                                </lightning:layoutItem>
                                     </div>
                                </div>
                                  <!-- condition for checking if the number of records in list is greater than 0 -->
                                <aura:if isTrue="{!and(v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage.length>0,v.SelectedType2!='0')}">
                                   
                                    <div class="slds-clearfix"></div>
                                      <!--beginning of the direct table -->
                                    <table class="slds-table slds-table_bordered slds-table--header-fixed slds-table--striped slds-table--cell-buffer">
                                        <thead>
                                            <tr  class="slds-text-title_caps">
                                                <th scope="col" class="setWidth5"><div class="cDailySalesShipto wrapText " title="Ship To">Ship To</div></th>
                                                <th scope="col" class="setWidth15"><div class="cDailySalesShipto wrapText " title="Item Category">Item Category</div></th>
                                                <th scope="col" class="setWidth15"><div class="cDailySalesShipto wrapText " title="Shipto Date">Shipto Date</div></th>
                                                <th scope="col" class="setWidth30"><div class="cDailySalesShipto wrapText " title="Reason for Transaction">Reason for Transaction</div></th>
                                                <th scope="col" class="setWidth10"><div class="cDailySalesShipto wrapText" title="NDC">NDC</div></th>
                                                <th scope="col" class="setWidth10"><div class="cDailySalesShipto wrapText " title="Invoice Quantity">Invoice Qty</div></th>
                                            </tr>
                                        </thead>
                                        
                                        <tbody>
                                            
                                            <aura:iteration var ="d" items ="{!v.DailyList.lstDailySalesDataDirect.lstDailySalesDataDirectPage}">
                                                <tr>
                                                    <th scope="row" class="setWidth15" style="padding-left: 18px;"><div class="cDailySalesShipto wrapText"  title="{!d.ShipTo_ID__c}">
                                                        <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.ShipTo_ID__c}</a></div></th>
                                                    
                                                    <th scope="row" class="setWidth15" style="right: 9px;"><div class="cDailySalesShipto wrapText "  title="{!d.Item_Category__c }">
                                                        {!d.Item_Category__c }</div></th>
                                                    
                                                    <td class="setWidth15" style="right: 10px;"><div>&nbsp; 
                                                        <ui:outputDate class="cDailySalesShipto wrapText " format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                        </div></td>
                                                    <td class="setWidth25" style="right: 10px;"><div class="cDailySalesShipto wrapText " title="{!d.Reason_for_Transaction__c}">&nbsp;{!d.Reason_for_Transaction__c}</div></td>
                                                    <td class="setWidth15" style="right: 10px;"><div class="cDailySalesShipto wrapText " title="{!d.NDC__c}">&nbsp;{!d.NDC__c}</div></td>
                                                    <td class="setWidth15" style="right: 12px;"><div class="cDailySalesShipto wrapText " title="{!d.Invoice_Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                </tr>
                                            </aura:iteration>
                                            
                                        </tbody>
                                        
                                    </table>
                                    
                                    <div class="slds-clearfix">
                                          <!-- picklist values for selecting the number of records per page in table -->
                                        <div class="slds-page-header" role="banner">
                                            <div class="slds-float_right" style="padding-left: 55px;">
                                        <ui:inputSelect aura:id="pageSize2" label="Display Records Per Page: " value="{!v.InDirectPageValue}" change="{!c.onSelectChange1}">
                                            <ui:inputSelectOption text="5" label="5" />
                                            <ui:inputSelectOption text="10" label="10"/>
                                        </ui:inputSelect>
                                        <br/>
                                    </div>
                                              <!-- code for next and previous button -->
                                            <div class="slds-float_right">            
                                                <lightning:button disabled="{!v.PageNumber == 1}" variant="brand" aura:id="prevPage" label="Prev" onclick="{!c.handlePrev}" />            
                                                <lightning:button disabled="{!v.PageNumber == v.TotalPages}" aura:id="nextPage" variant="brand" label="Next" onclick="{!c.handleNext}"/>
                                            </div>
                                            <p class="slds-page-header__title">{!v.RecordStart}-{!v.RecordEnd} of {!v.TotalRecords} | Page {!v.PageNumber} of {!v.TotalPages}</p>
                                        </div>
                                    </div>
                                </aura:if>
                                <footer class="slds-card__footer">
                                </footer>
                            </article>
                        </aura:if>
                        
                          <!-- condition for selecting the indirect picklist value or both picklist values -->
                        <aura:if isTrue="{!(v.SelectedType=='2')||(v.SelectedType=='3')}">  
                            
                            <article class="slds-card slds-card_boundary">
                                <div class="slds-card__header slds-grid">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                        <div class="slds-media__figure">
                                            <lightning:icon iconName="custom:custom6" size="small" /> 
                                        </div>
                                        <div class="slds-media__body">
                                            <h2 class="slds-card__header-title">
                                                <a class="slds-card__header-link slds-truncate" title="{!v.PageHeading2}">
                                                    <span>{!v.PageHeading2}</span> (<span>{!(v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage==null)?'0':v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage.length}</span>)
                                                </a>
                                                
                                            </h2>
                                        </div>
                                        
                                    </header>
                                </div>
                                
                                 <div class="slds-grid slds-gutters">
                            <div class="slds-col" style="padding-left: 9px;padding-top: 0px;">
                                 <!-- picklist values for selecting the current and previous year -->
                                <lightning:layoutItem size="12" smallDeviceSize="12" mediumDeviceSize="4" 
                                                      largeDeviceSize="4" padding="around-small" >
                                 <lightning:select class="slds-var-p-*_xxx-small" name="Please select a year" Label="Please select a year" 
                                                    value="{!v.SelectedType3}" onchange="{!c.SelectedTypeChange}">
                                        <option value="0">Please select a year</option>
                                        <option value="1">Current Year</option>
                                        <option value="2">Previous Year</option>
                                    </lightning:select>
                                </lightning:layoutItem>
                                     </div>
                                </div>
                                <!-- condition for checking if the number of records in list is greater than 0 -->
                                <aura:if isTrue="{!and(v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage.length>0,v.SelectedType3!='0')}">                                    
                                    
                                    <div class="slds-clearfix"></div>
                                    
                                    <table class="slds-table slds-table_bordered slds-table--header-fixed slds-table--striped slds-table--cell-buffer">
                                        
                                        <thead>
                                            <tr class="slds-text-title_caps">
                                                <th scope="col" class="setWidth15"><div class="cDailySalesShipto wrapText" title="DDD ID">DDD ID</div></th>
                                                <th scope="col" class="setWidth10"><div class="cDailySalesShipto wrapText" title="Invoice">Invoice</div></th>
                                                <th scope="col" class="setWidth15"><div class="cDailySalesShipto wrapText" title="Shipto Date">Shipto Date</div></th>
                                                <th scope="col" class="setWidth20"><div class="cDailySalesShipto wrapText" title="Description">Description</div></th>
                                                <th scope="col" class="setWidth15"><div class="cDailySalesShipto wrapText" title="Quantity">Quantity</div></th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <aura:iteration var ="d" items ="{!v.DailyList1.lstDailySalesDataInDirect.lstDailySalesDataInDirectPage}">
                                                <tr>
                                                    <td style="padding-left: 18px;"><div class="cDailySalesShipto wrapText"  title="{!d.DDD_Outlet_ID__c}">
                                                        <a class="{!v.class}" href="{!'/' + d.Id}">&nbsp;{!d.DDD_Outlet_ID__c}</a></div></td>
                                                    <td style="right: 10px;">{!d.Invoice__c}</td>
                                                    <td style="right: 11px;"><div>&nbsp;
                                                        <ui:outputDate class="cDailySalesShipto wrapText " format="MM/DD/YYYY" value="{!d.ShipTo_Date__c}"/>
                                                        </div></td>
                                                    <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Material_Description__c}">&nbsp;{!d.Material_Description__c}</div></td>
                                                    <td style="right: 11px;"><div class="cDailySalesShipto wrapText " title="{!d.Quantity__c}">&nbsp;{!d.Quantity__c}</div></td>
                                                    
                                                </tr>
                                            </aura:iteration>
                                        </tbody>
                                        
                                    </table>
                                    
                                    <!-- picklist value for selecting the number of records per page in table -->
                                    <div class="slds-clearfix">
                                        <div class="slds-page-header" role="banner">
                                            <div class="slds-float_right" style="padding-left: 55px;">
                                        <ui:inputSelect aura:id="pageSize2" label="Display Records Per Page: " value="{!v.InDirectPageValue}" change="{!c.onSelectChange1}">
                                            <ui:inputSelectOption text="5" label="5" />
                                            <ui:inputSelectOption text="10" label="10"/>
                                        </ui:inputSelect>
                                        <br/>
                                    </div>
                                            <!--code for next and previous buttons  -->
                                            <div class="slds-float_right">            
                                                <lightning:button disabled="{!v.PageNumber2 == 1}" variant="brand" aura:id="prevPage2" label="Prev" onclick="{!c.handlePrev2}" />            
                                                <lightning:button disabled="{!v.PageNumber2 == v.TotalPages2}" aura:id="nextPage2" variant="brand" label="Next" onclick="{!c.handleNext2}"/>
                                            </div>
                                            <p class="slds-page-header__title">{!v.RecordStart2}-{!v.RecordEnd2} of {!v.TotalRecords2} | Page {!v.PageNumber2} of {!v.TotalPages2}</p>
                                        </div>
                                    </div>
                                </aura:if>
                                <footer class="slds-card__footer">
                                </footer>
                            </article>
                        </aura:if>
                    </article>
                </aura:if>
                
                
                
            </div>
        </lightning:card>
    </aura:if>
          </aura:if>
    <!-- condition displaying the message of unavailability of feature in Phone devices -->
    <aura:if isTrue="{!$Browser.formFactor=='PHONE'}">
        This feature is not available for Mobile.
    </aura:if>
    <!--/aura:if-->
    
    
</aura:component>